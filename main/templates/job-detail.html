{% load static %}
<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <title>Bản đồ Camera Giao Thông - Vehicle Monitoring</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <!-- CSS Libraries -->
    <link href="{% static 'lib/animate/animate.min.css' %}" rel="stylesheet" />
    <link
      href="{% static 'lib/owlcarousel/assets/owl.carousel.min.css' %}"
      rel="stylesheet"
    />
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet" />
    <link href="{% static 'css/style.css' %}" rel="stylesheet" />
    <link
      rel="icon"
      href="{% static 'img/favicon.ico' %}"
      type="image/x-icon"
    />

    <!-- Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />

    <style>
      body {
        font-family: "Heebo", sans-serif;
      }
      #map {
        height: 600px;
        width: 100%;
        border: 2px solid #ccc;
        border-radius: 8px;
        margin-bottom: 40px;
      }
      .page-header {
        background: linear-gradient(
            rgba(43, 57, 64, 0.5),
            rgba(43, 57, 64, 0.5)
          ),
          url('{% static "img/anhnenmetro.jpg" %}') center center no-repeat;
        background-size: cover;
      }
      .footer {
        background-color: #222;
      }
    </style>
  </head>

  <body>
    <div class="container-xxl bg-white p-0">
      <!-- Navbar Start -->
      <nav
        class="navbar navbar-expand-lg bg-white navbar-light shadow sticky-top p-0"
      >
        <a
          href="index.html"
          class="navbar-brand d-flex align-items-center text-center py-0 px-4 px-lg-5"
        >
          <h1 class="m-0 text-primary">JobEntry</h1>
        </a>
        <button
          type="button"
          class="navbar-toggler me-4"
          data-bs-toggle="collapse"
          data-bs-target="#navbarCollapse"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <div class="navbar-nav ms-auto p-4 p-lg-0">
            <a href="index.html" class="nav-item nav-link active">Trang chủ</a>
            <a href="about.html" class="nav-item nav-link"
              >Giám sát trực tuyến </a
            >
            <div class="nav-item dropdown">
                <a href="job-list.html" class="nav-item nav-link">Đo tốc độ phương tiện</a>
              </div>
            </div>
            <a href="category.html" class="nav-item nav-link">Báo Cáo</a>            
            <a href="contact.html" class="nav-item nav-link"
              >Thống kê giao thông</a
            >
          </div>
          <a
            href="job-detail.html"
            class="nav-item nav-link"
            >Vi Trí Camera Trên Bản Đồ
          </a>
        </div>
      </nav>
      <!-- Navbar End -->

      <!-- Header -->
      <div class="container-xxl py-5 page-header mb-5">
        <div class="container my-5 pt-5 pb-4">
          <h1 class="display-3 text-white mb-3 animated slideInDown">
            Bản đồ Camera Giao Thông
          </h1>
          <p class="text-white">
            Hiển thị vị trí các camera giám sát giao thông trong thành phố
          </p>
        </div>
      </div>

      <!-- Map container -->
      <div class="container">
        <div id="map"></div>
      </div>

      <!-- Footer -->
      <div class="container-fluid bg-dark text-white-50 footer pt-5 mt-5">
        <div class="container py-5">
          <div class="row g-5">
            <div class="col-lg-4">
              <h5 class="text-white mb-4">Liên hệ</h5>
              <p>
                <i class="fa fa-map-marker-alt me-3"></i>Hồ Chí Minh, Việt Nam
              </p>
              <p>
                <i class="fa fa-envelope me-3"></i>support@vehiclemonitor.vn
              </p>
              <p><i class="fa fa-phone-alt me-3"></i>+84 123 456 789</p>
            </div>
            <div class="col-lg-4">
              <h5 class="text-white mb-4">Kết nối</h5>
              <div class="d-flex pt-2">
                <a class="btn btn-outline-light btn-social me-2" href="#"
                  ><i class="fab fa-facebook-f"></i
                ></a>
                <a class="btn btn-outline-light btn-social me-2" href="#"
                  ><i class="fab fa-youtube"></i
                ></a>
                <a class="btn btn-outline-light btn-social" href="#"
                  ><i class="fab fa-linkedin-in"></i
                ></a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Script Libraries -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <script>
      // Khởi tạo bản đồ tại trung tâm HCM
      const map = L.map("map").setView([10.77653, 106.700981], 12);

      // Thêm tile layer từ OpenStreetMap
      L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        maxZoom: 18,
        attribution:
          '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',
      }).addTo(map);

      // Dữ liệu 50 camera mẫu trong TP. HCM
      const cameras = [
        { name: "Camera 1 - Q1", lat: 10.775, lng: 106.7 },
        { name: "Camera 2 - Q1", lat: 10.77, lng: 106.705 },
        { name: "Camera 3 - Q1", lat: 10.78, lng: 106.695 },
        { name: "Camera 4 - Q3", lat: 10.779, lng: 106.6917 },
        { name: "Camera 5 - Q3", lat: 10.781, lng: 106.689 },
        { name: "Camera 6 - Q3", lat: 10.7825, lng: 106.6875 },
        { name: "Camera 7 - Q5", lat: 10.759, lng: 106.68 },
        { name: "Camera 8 - Q5", lat: 10.7605, lng: 106.6785 },
        { name: "Camera 9 - Q5", lat: 10.758, lng: 106.679 },
        { name: "Camera 10 - Q10", lat: 10.772, lng: 106.66 },
        { name: "Camera 11 - Q10", lat: 10.7735, lng: 106.6585 },
        { name: "Camera 12 - Q10", lat: 10.77, lng: 106.662 },
        { name: "Camera 13 - Bình Thạnh", lat: 10.801, lng: 106.703 },
        { name: "Camera 14 - Bình Thạnh", lat: 10.803, lng: 106.705 },
        { name: "Camera 15 - Bình Thạnh", lat: 10.805, lng: 106.707 },
        { name: "Camera 16 - Phú Nhuận", lat: 10.7925, lng: 106.679 },
        { name: "Camera 17 - Phú Nhuận", lat: 10.79, lng: 106.681 },
        { name: "Camera 18 - Phú Nhuận", lat: 10.788, lng: 106.6835 },
        { name: "Camera 19 - Tân Bình", lat: 10.7895, lng: 106.65 },
        { name: "Camera 20 - Tân Bình", lat: 10.787, lng: 106.652 },
        { name: "Camera 21 - Tân Bình", lat: 10.785, lng: 106.655 },
        { name: "Camera 22 - Q7", lat: 10.737, lng: 106.71 },
        { name: "Camera 23 - Q7", lat: 10.735, lng: 106.7125 },
        { name: "Camera 24 - Q7", lat: 10.734, lng: 106.714 },
        { name: "Camera 25 - Thủ Đức", lat: 10.85, lng: 106.7625 },
        { name: "Camera 26 - Thủ Đức", lat: 10.855, lng: 106.76 },
        { name: "Camera 27 - Thủ Đức", lat: 10.8525, lng: 106.755 },
        { name: "Camera 28 - Gò Vấp", lat: 10.835, lng: 106.695 },
        { name: "Camera 29 - Gò Vấp", lat: 10.838, lng: 106.6925 },
        { name: "Camera 30 - Gò Vấp", lat: 10.84, lng: 106.69 },
        { name: "Camera 31 - Tân Phú", lat: 10.7775, lng: 106.646 },
        { name: "Camera 32 - Tân Phú", lat: 10.78, lng: 106.645 },
        { name: "Camera 33 - Tân Phú", lat: 10.782, lng: 106.6425 },
        { name: "Camera 34 - Quận 4", lat: 10.756, lng: 106.707 },
        { name: "Camera 35 - Quận 4", lat: 10.754, lng: 106.705 },
        { name: "Camera 36 - Quận 4", lat: 10.7525, lng: 106.703 },
        { name: "Camera 37 - Quận 8", lat: 10.7375, lng: 106.647 },
        { name: "Camera 38 - Quận 8", lat: 10.735, lng: 106.649 },
        { name: "Camera 39 - Quận 8", lat: 10.7325, lng: 106.65 },
        { name: "Camera 40 - Q3", lat: 10.779, lng: 106.685 },
        { name: "Camera 41 - Q3", lat: 10.78, lng: 106.683 },
        { name: "Camera 42 - Q1", lat: 10.77, lng: 106.7 },
        { name: "Camera 43 - Q1", lat: 10.771, lng: 106.702 },
        { name: "Camera 44 - Bình Chánh", lat: 10.8, lng: 106.6 },
        { name: "Camera 45 - Bình Chánh", lat: 10.795, lng: 106.605 },
        { name: "Camera 46 - Nhà Bè", lat: 10.735, lng: 106.68 },
        { name: "Camera 47 - Nhà Bè", lat: 10.731, lng: 106.678 },
        { name: "Camera 48 - Q12", lat: 10.847, lng: 106.63 },
        { name: "Camera 49 - Q12", lat: 10.845, lng: 106.632 },
        { name: "Camera 50 - Q12", lat: 10.849, lng: 106.634 },
      ];

      cameras.forEach((cam) => {
        L.marker([cam.lat, cam.lng]).addTo(map).bindPopup(`<b>${cam.name}</b>`);
      });
    </script>
  </body>
</html>
